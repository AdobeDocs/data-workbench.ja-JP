---
description: Site 用プロファイルに付属のログ処理データセットインクルードファイルで定義する Web 固有の設定について取り上げます。
title: ログ処理に関する Web 固有の設定
uuid: dea861a6-3f78-4cb9-8108-ecf397b37667
exl-id: abb6e6a7-011f-40d6-b778-16da2332af72
translation-type: tm+mt
source-git-commit: d9df90242ef96188f4e4b5e6d04cfef196b0a628
workflow-type: tm+mt
source-wordcount: '857'
ht-degree: 68%

---

# ログ処理に関する Web 固有の設定{#web-specific-settings-for-log-processing}

Site 用プロファイルに付属のログ処理データセットインクルードファイルで定義する Web 固有の設定について取り上げます。

これらの設定によって定義されたフィルタリングは、ログエントリがデコーダーから送出されて変換が適用された後、[!DNL Log Entry Condition] によって評価される前に適用されます。

* [HTTP ステータスのフィルタリング](../../../home/c-dataset-const-proc/c-config-web-data/c-web-spec-log-proc.md#section-ac66acdcb6aa467d81c3721199e540fd)
* [ロボットのフィルタリング](../../../home/c-dataset-const-proc/c-config-web-data/c-web-spec-log-proc.md#section-7f43681dfbc64b969619cb88f97d5ad5)

## HTTP ステータスのフィルタリング  {#section-ac66acdcb6aa467d81c3721199e540fd}

sc-status コードが 400 以上のログエントリは、[!DNL Site] の導入環境の設定によって、データセットから除外することができます。リクエストに成功した場合、そのステータスコードは 400 より小さくなります。デフォルトの導入環境には、HTTPステータスフィルタリングが設定された[!DNL Log Processing Dataset Include]ファイルが含まれています。

**HTTP ステータスのフィルタリング設定を編集するには**

1. データセットプロファイル内で[!DNL Profile Manager]を開き、[!DNL Dataset\Log Processing\Traffic\HTTP Status Filter.cfg]ファイルを開きます。

   >[!NOTE]
   >
   >[!DNL Site]の実装をカスタマイズした場合は、これらの設定が存在するファイルが、説明に記載されている場所と異なる可能性があります。

1. このファイルのパラメーターの値を確認し、必要に応じて編集します。以下の例を参考にしてください。

   ![](assets/cfg_WebParameters_HTTPStatusFilter.png)

   [!DNL Range]条件について詳しくは、[条件](../../../home/c-dataset-const-proc/c-conditions/c-abt-cond.md)を参照してください。

1. ウィンドウ上部の&#x200B;**[!UICONTROL (modified)]**&#x200B;を右クリックし、**[!UICONTROL Save]**&#x200B;をクリックして、[!DNL HTTP Status Filter.cfg]ファイルを保存します。

1. ローカルに適用した変更を有効にするには、[!DNL Profile Manager]で[!DNL User]列のファイルのチェックマークを右クリックし、**[!UICONTROL Save to]** > ***[!UICONTROL profile name]***&#x200B;をクリックします。プロファイル名は、データセットインクルードファイルが属するデータセットプロファイル名または継承プロファイルです。

   >[!NOTE]
   >
   >アドビから提供される内部プロファイルには、変更した設定ファイルを一切保存しないでください。内部プロファイルに対するアップデートをインストールするときに変更内容が上書きされます。

## ロボットのフィルタリング {#section-7f43681dfbc64b969619cb88f97d5ad5}

[!DNL Site] の導入環境の設定でルックアップファイルを使用し、既知のロボットや自動テストツールによって生成されたログエントリ、さらには、内部ユーザーの IP アドレスによって生成されたログエントリをデータセットから除外することができます。デフォルトの導入環境には、ロボットのフィルタリングが設定された[!DNL Log Processing Dataset Include]ファイルが含まれています。

**ロボットのフィルタリング設定を編集するには**

1. データセットプロファイル内で[!DNL Profile Manager]を開き、[!DNL Dataset\Log Processing\Traffic\Robot Filter.cfg]ファイルを開きます。

   >[!NOTE]
   >
   >[!DNL Site]の実装をカスタマイズした場合は、これらの設定が存在するファイルが、説明に記載されている場所と異なる可能性があります。

1. ファイルのパラメーターを確認し、必要に応じて編集します。次の例を参考にしてください。

   ![](assets/cfg_WebParameters_RobotFilter.png)

   このファイル内の [!DNL NotRobotCondition] には、次の 3 つのパラメーターが定義されています。

   * **Case Insensitive（ロボットのフィルタリングで大文字と小文字を区別しない）：** true または false。true の場合、ロボットのフィルタリングでアルファベットの大文字と小文字が区別されません。
   * **Robot Lookup File, Baseline：**&#x200B;ロボットであることが確認されており、データセットから除外すべきブラウザーユーザーエージェントをリストしたテキストファイルのパスとファイル名。基本的なロボットルックアップファイルがアドビから提供されています。パスを指定しなかった場合、Data Workbench サーバーのインストールディレクトリ内にある Lookups ディレクトリからこのファイルが検索されます。
   * **Robot Lookup File, Extended：**&#x200B;導入環境に固有のロボット（ブラウザーユーザーエージェントまたは IP アドレス）をリストしたオプションのテキストファイルのパスとファイル名。このリストには、内部のモニタリングロボットや自動テストツールのほか、データセットから除外すべき内部ユーザーの IP アドレスを含めることができます。パスを指定しなかった場合、Data Workbench サーバーのインストールディレクトリ内にある Lookups ディレクトリからこのファイルが検索されます。

   ログエントリのブラウザーユーザーエージェントがどちらのルックアップファイルにもリストされていなかった場合、そのログエントリは、実在する訪問者によって生成されたものと見なされ、データセットから除外されません。

   >[!NOTE]
   >
   >ロボットルックアップファイル内の照合では、サブ文字列を使用して、c-ipおよびcs(user-agent)のログフィールドと比較します。 検索文字列が「$」で始まっている場合、テスト対象となる文字列の先頭部分と一致している必要があります。同様に、検索文字列が「$」で終わっている場合、テスト対象となる文字列の末尾部分と一致している必要があります。検索文字列の最初と最後の両方に「$」が存在する場合、ログエントリが除外されるためには、その検索文字列と完全に一致していることが必要です。例えば、クラス C ブロックのすべての IP アドレスがテストの対象であれば、「$231.78.123.」などの文字列を使用して、文字列の先頭部分とのマッチングを強制する必要があります。この場合、231.78.123.0 ～ 231.78.123.255 のアドレスと一致することになります。

1. ウィンドウ上部の&#x200B;**[!UICONTROL (modified)]**&#x200B;を右クリックし、**[!UICONTROL Save]**&#x200B;をクリックして、ファイルを保存します。

1. ローカルに適用した変更を有効にするには、[!DNL Profile Manager]で[!DNL User]列のファイルのチェックマークを右クリックし、**[!UICONTROL Save to]** > ***[!UICONTROL profile name]***&#x200B;をクリックします。プロファイル名は、データセットインクルードファイルが属するデータセットプロファイル名または継承プロファイルです。

   アドビから提供される内部プロファイルには、変更した設定ファイルを一切保存しないでください。内部プロファイルに対するアップデートをインストールするときに変更内容が上書きされます。

   >[!NOTE]
   >
   >データセットの構築に使用される基本的なログエントリが変更されない（データセットの構築と更新に使用される変換が変更されても）場合は、Robot Lookup File、Baseline、Robot Lookup File、Extendedをバージョン管理する必要があります。 デフォルトのロボットルックアップファイルが更新されると、そのファイル内のエントリが追加されたり削除されたりすることで、既に構築済みのレポートデータセットが意図せず変化してしまいますが、これらのファイルにバージョン番号を設定すれば、そのようなことを確実に防ぐことができます。
